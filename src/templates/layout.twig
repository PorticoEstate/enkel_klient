<!DOCTYPE html>
<html lang="no">

	<head>
		{% block title %}{% endblock %}
		{% block head %}{% endblock %}
		<style>

			html,
			body {
				height: 100%;
				margin: 0;
				padding: 0;
			}

			body {
				display: flex;
				flex-direction: column;
				min-height: 100vh;
			}

			.content {
				flex: 1;
				margin-left: 250px;
				padding: 20px;
				transition: 0.3s;
			}


			/* Sidebar styles */
			.sidebar {
				height: 100vh;
				width: 250px;
				position: fixed;
				left: 0;
				top: 0;
				background-color: #f8f9fa;
				padding-top: 60px;
				transition: 0.3s;
				z-index: 900;
			}

			.sidebar .navbar-nav {
				width: 100%;
			}

			.sidebar .nav-item {
				width: 100%;
				padding: 8px 16px;
			}

			.sidebar .nav-link {
				color: #333;
				width: 100%;
				padding: 10px;
				transition: all 0.3s;
				border-radius: 4px;
			}

			.sidebar .nav-link:hover {
				background-color: #e9ecef;
				transform: translateX(5px);
				color: #0d6efd;
			}

			.sidebar .nav-link.active {
				background-color: #0d6efd;
				color: white;
				border-radius: 4px;
			}

			.sidebar .nav-link.active:hover {
				background-color: #0b5ed7;
				color: white;
				transform: translateX(5px);
			}

			.content {
				margin-left: 250px;
				padding: 20px;
				transition: 0.3s;
			}

			.navbar-toggler {
				background-color: #f8f9fa;
				border: 1px solid #dee2e6;
				padding: 0.5rem;
				border-radius: 0.25rem;
				box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
				display: block;
				position: fixed;
				left: 10px;
				top: 10px;
				z-index: 1000;
				width: 40px;
			}

			.navbar-toggler-icon {
				display: inline-block;
				width: 1.5em;
				height: 1.5em;
				background-image: url("data:image/svg+xml, %3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%280, 0, 0, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
				background-repeat: no-repeat;
				background-position: center;
				background-size: 100%;
			}

			/* Mobile view */
			@media(max-width: 768px) {
				.sidebar {
					margin-left: -250px;
					padding-top: 60px;
				}

				.sidebar.active {
					margin-left: 0;
				}

				.content {
					margin-left: 0; /* Changed from 50px to 0 */
					padding-left: 20px;
					width: 100%; /* Ensure content uses the whole width */
				}

				.content.active {
					margin-left: 250px;
				}

				.navbar-toggler {
					display: block;
					position: fixed;
					left: 10px;
					top: 10px;
					z-index: 1000;
					width: 40px;
				}
			}


			/* Cookie Consent Styles - Fixed z-index to be higher */
			.cookie-consent {
				position: fixed;
				bottom: 0;
				left: 0;
				right: 0;
				background-color: rgba(0, 0, 0, 0.9);
				color: #fff;
				padding: 15px;
				text-align: center;
				z-index: 1050; /* Increased z-index */
				display: flex;
				justify-content: center;
				align-items: center;
				flex-wrap: wrap;
				gap: 10px;
				box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.2);
				transform: translateY(100%);
				transition: transform 0.3s ease-in-out;
			}


			.cookie-consent.active {
				transform: translateY(0);
			}

			.cookie-text {
				flex: 1;
				min-width: 200px;
				margin-right: 10px;
			}

			.cookie-buttons {
				display: flex;
				gap: 10px;
			}

			.cookie-btn {
				padding: 8px 16px;
				border: none;
				border-radius: 4px;
				cursor: pointer;
				font-weight: bold;
				transition: background-color 0.2s;
			}

			.accept-btn {
				background-color: #0d6efd;
				color: white;
			}

			.accept-btn:hover {
				background-color: #0b5ed7;
			}

			.decline-btn {
				background-color: #6c757d;
				color: white;
			}

			.decline-btn:hover {
				background-color: #5c636a;
			}

			@media(max-width: 768px) {
				.cookie-consent {
					flex-direction: column;
				}
			}
			/* Footer Styles */
			footer {
				margin-left: 250px;
				padding: 12px 20px;
				background-color: #f8f9fa;
				border-top: 1px solid #dee2e6;
				font-size: 0.75rem;
				color: #6c757d;
				transition: margin-left 0.3s ease;
			}

			.footer-content {
				max-width: 1200px;
				margin: 0 auto;
			}

			footer p {
				margin-bottom: 0.5rem;
			}

			/* Update the mobile styles for footer */
			@media(max-width: 768px) {
				.content {
					margin-left: 0;
					padding-left: 20px;
					width: 100%;
				}

				.content.active {
					margin-left: 250px;
				}

				footer {
					margin-left: 0;
					text-align: center;
				}

				footer.active {
					margin-left: 250px;
				}
			}
			</head> </html> </head> </html> </head> </html> </head> </html> </head> </html>
		</style>
	</head>
	<body>
		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#sidebar" aria-controls="sidebar" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>

		<nav id="sidebar" class="sidebar">
			<ul class="navbar-nav">
				<li class="nav-item">
					<a class="nav-link {{ currentRoute == 'home' ? 'active' }}" href="{{ base_path }}/">
						<i class="fas fa-home me-2"></i>Hjem
					</a>
				</li>
				{% if config.services.helpdesk %}
					<li class="nav-item">
						<a class="nav-link {{ currentRoute == 'helpdesk' ? 'active' }}" href="{{ base_path }}/helpdesk">
							<i class="fas fa-ticket-alt me-2"></i>
							{{ config.helpdesk.form_header }}
						</a>
					</li>
				{% endif %}
				{% if config.services.nokkelbestilling %}
					<li class="nav-item">
						<a class="nav-link {{ currentRoute == 'nokkelbestilling' ? 'active' }}" href="{{ base_path }}/nokkelbestilling">
							<i class="fas fa-key me-2"></i>
							{{ config.nokkelbestilling.form_header }}
						</a>
					</li>
				{% endif %}
				{% if config.services.inspection_1 %}
					<li class="nav-item">
						<a class="nav-link {{ currentRoute == 'inspection_1' ? 'active' }}" href="{{ base_path }}/inspection_1">
							<i class="fas fa-clipboard-check me-2"></i>
							{{ config.inspection_1.form_header }}
						</a>
					</li>
				{% endif %}
				<!-- My Cases Section -->
				<li class="nav-item">
					<a class="nav-link {{ currentRoute == 'my_cases' ? 'active' }}" href="{{ base_path }}/my_cases">
						<i class="fas fa-folder-open me-2"></i>
						Mine saker
					</a>
				</li>
				<!-- End of My Cases Section -->
			</ul>
		</nav>
		<div class="content"> {% block body %}{% endblock %}
			</div>


			<footer>
				<div class="footer-content">
					<b>{{ config.footer.contact_info_name }}</b>

					<p>Adresse:
						{{ config.footer.contact_info_visiting_address }}</p>
					<p>Åpningstider:
						{{ config.footer.contact_info_opening_hours }}</p>
					<p>Organisasjonsnummer:
						{{ config.footer.contact_info_org_nr }}</p>
				</div>
			</footer>
			<!-- Cookie Consent Banner -->
			<div class="cookie-consent" id="cookieConsent">
				<div class="cookie-text">
					<p>Vi bruker kun cookies som er nødvendig for innlogging på siden. Ved å fortsette å bruke denne nettsiden samtykker du til vår bruk av cookies.</p>
				</div>
				<div class="cookie-buttons">
					<button class="cookie-btn accept-btn" id="acceptCookies">Aksepter</button>
					<button class="cookie-btn decline-btn" id="declineCookies">Avslå</button>
				</div>
			</div>

			<script>
				document.querySelector('.navbar-toggler').addEventListener('click', function () {
const sidebar = document.querySelector('.sidebar');
const content = document.querySelector('.content');
const footer = document.querySelector('footer');

sidebar.classList.toggle('active');
content.classList.toggle('active');

// Toggle footer active class instead of directly setting style
if (window.innerWidth<= 768) {
            footer.classList.toggle('active');
        }
    });

    // Window resize handler to properly adjust footer on window resize
    window.addEventListener('resize', function() {
        const sidebar = document.querySelector('.sidebar');
        const footer = document.querySelector('footer');
        
        if (window.innerWidth <= 768) {
            // If sidebar is active in mobile view, apply active class to footer
            if (sidebar.classList.contains('active')) {
                footer.classList.add('active');
            } else {
                footer.classList.remove('active');
            }
        } else {
            // In desktop view, remove active class (footer uses default margin)
            footer.classList.remove('active');
        }
    });


// Cookie consent functionality
document.addEventListener('DOMContentLoaded', function () {
const cookieConsent = document.getElementById('cookieConsent');
const acceptBtn = document.getElementById('acceptCookies');
const declineBtn = document.getElementById('declineCookies');

// Check if user has already made a choice
const cookieChoice = localStorage.getItem('cookieConsent');

if (! cookieChoice) { // Show the banner after a short delay
setTimeout(() => {
cookieConsent.classList.add('active');
}, 500);
}

// Handle accept button click
acceptBtn.addEventListener('click', () => {
localStorage.setItem('cookieConsent', 'accepted');
cookieConsent.classList.remove('active');

// Here you could initialize your analytics or tracking scripts
console.log('Cookies accepted');
}) 


// Handle decline button click
declineBtn.addEventListener('click', () => { // Remove the cookieConsent item instead of setting it to 'declined'
localStorage.removeItem('cookieConsent');
cookieConsent.classList.remove('active');
// Here you could disable any non-essential cookies

// Redirect to Bergen Kommune website
window.location.href = 'https://www.bergen.kommune.no/innbyggerhjelpen/bolig-og-sosiale-tjenester/botilbud/kommunal-bolig/apningstider-og-telefonnumre-til-etat-for-boligforvaltning/';

console.log('Cookies declined, redirecting...');
});



});
			</script>


		</body>
	</html>
